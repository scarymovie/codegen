# Go Code Generation Example

Этот репозиторий представляет собой пример использования `oapi-codegen` и `asyncapi-generator` для генерации кода на Go на основе спецификаций OpenAPI и AsyncAPI.

Процесс кодогенерации инкапсулирован в Docker для обеспечения консистентности и избежания проблем с зависимостями в локальном окружении.

## Необходимые утилиты

-   `make`
-   `docker`

## Использование

Для генерации кода используются следующие команды:

-   `make generate`: Запускает все таски для генерации кода (клиент, сервер и асинхронный API).
-   `make generate-server`: Генерирует только серверный код на основе спецификаций `*.openapi.yaml` из директории `api/`.
-   `make generate-client`: Генерирует только клиентский код на основе спецификаций `*.openapi.yaml` из директории `api/`.
-   `make clean`: Удаляет все сгенерированные файлы из директории `external/`.
-   `make regen`: Выполняет очистку и полную перегенерацию всего кода.

## Структура проекта

-   `api/`: Содержит файлы спецификаций OpenAPI (`.openapi.yaml`).
-   `codegen/`: Содержит `Dockerfile` для создания Docker-образа, используемого в процессе генерации кода.
-   `external/`: Директория для сгенерированного кода. Этот каталог можно безопасно удалять и создавать заново.
-   `oapi-config/`: Содержит файлы конфигурации для `oapi-codegen`.
-   `Makefile`: Определяет основные команды для работы с проектом.
-   `go.mod` / `go.sum`: Файлы управления зависимостями Go.
